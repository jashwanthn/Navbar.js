src/components/AccessConfiguration.js
import React, { useState } from "react";
import "./AccessConfiguration.css";

/*
  Plain-CSS AccessConfiguration component
  - No Tailwind required
  - No flexbox (uses CSS Grid + inline-block)
  - Designed to work with fixed Header + Sidebar layout
  - Make sure main content wrapper has classes:
      className="content-with-sidebar site-body-padding"
*/

export default function AccessConfiguration() {
  const initialRows = [
    {
      id: 1,
      adGroup: "Wealth Compliance",
      folder: "Compliance",
      reports: ["KYC Reports", "Dormant Reports", "AML Reports"],
    },
    {
      id: 2,
      adGroup: "Wealth User",
      folder: "Global User",
      reports: ["Active User", "Inactive User"],
    },
  ];

Replace src/components/AccessConfiguration.css with:

/* AccessConfiguration.css - tightened to fit inside the content area
   Ensures card does not overlap the fixed sidebar or header */

/* Outer wrapper: ensures it fits in the content column */
.ac-wrapper {
  box-sizing: border-box;
  padding: 24px 24px 40px 24px; /* comfortable padding on all sides */
  min-height: calc(100vh - 104px); /* space for fixed top header (34 + 70) */
  background: transparent; /* page background handled globally */
  width: 100%;
}

/* Card: constrained so it doesn't overflow the available content area.
   Use max-width so it can shrink on smaller viewports inside the content column. */
.ac-card {
  background: #ffffff;
  max-width: 1100px;          /* maximum width of the card */
  width: 100%;                /* let it shrink below max-width if needed */
  margin: 0 auto;             /* center inside the content column */
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  overflow: hidden;
  box-sizing: border-box;
}

/* Header */
.ac-header {
  display: grid;
  grid-template-columns: 1fr min-content;
  align-items: center;
  gap: 12px;
  padding: 18px 20px;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  background: #fff;
}

/* Title area */
.ac-title {
  font-size: 20px;
  font-weight: 600;
  color: #0f172a;
}

/* User area */
.ac-user {
  display: inline-block;
  white-space: nowrap;
  text-align: right;
}
.ac-user-name { color: #374151; font-size: 14px; display:inline-block; margin-right:8px; }
.ac-avatar { display:inline-block; width:36px; height:36px; background:#f3f4f6; border-radius:999px; vertical-align:middle; }

/* Controls */
.ac-controls { padding: 18px 20px; border-bottom: 1px solid rgba(0,0,0,0.04); }

/* Grid for inputs; will wrap naturally because width:100% on inputs */
.ac-row {
  display: grid;
  grid-template-columns: 140px 1fr 140px 220px 120px;
  gap: 12px;
  align-items: center;
}

/* Inputs */
.ac-input, .ac-select {
  padding: 10px 12px;
  border: 1px solid rgba(15,23,42,0.08);
  border-radius: 8px;
  background: #fff;
  color: #0f172a;
  width: 100%;
  box-sizing: border-box;
}

/* Add button */
.ac-add-col { text-align: right; }
.ac-btn-primary { display:inline-block; background:#0ea5e9; color:#fff; padding:10px 16px; border-radius:8px; font-weight:600; }

/* Table area */
.ac-table-wrap { padding: 18px 20px 26px 20px; overflow-x:auto; }

/* Table */
.ac-table { width:100%; border-collapse:collapse; font-size:14px; }
.ac-table thead th { text-align:left; padding:10px 12px; background:#f8fafc; border-bottom:1px solid rgba(0,0,0,0.06); font-weight:600; }
.ac-table tbody td { padding:12px; border-bottom:1px solid rgba(0,0,0,0.04); color:#374151; vertical-align:top; }
.ac-strong { font-weight:600; color:#0f172a; }

/* Empty + help */
.ac-empty { text-align:center; padding:30px 12px; color:#6b7280; }
.ac-help { margin-top:12px; color:#6b7280; font-size:13px; }

/* Small screens adjustments */
@media (max-width: 1100px) {
  .ac-card { max-width: 960px; }
  .ac-row { grid-template-columns: 120px 1fr; grid-auto-rows: auto; }
  .ac-add-col { grid-column: 1 / -1; text-align: left; margin-top:8px; }
  .ac-label { display: none; }
  .ac-card { margin-left: 16px; margin-right: 16px; }
}

/* If your main content wrapper hasn't applied the left margin for sidebar,
   the safe fallback below prevents the card from overwriting the left 240px:
   (only used if you forgot to add .content-with-sidebar to main) */
@media (min-width: 900px) {
  body:not(.no-sidebar-left) .ac-wrapper { padding-left: 24px; }
  /* fallback: ensure card does not go under a 240px sidebar */
  .ac-card { max-width: calc(100% - 40px); }
}

  const [userSearch, setUserSearch] = useState("");
  const [selectedADGroup, setSelectedADGroup] = useState("");
  const [rows, setRows] = useState(initialRows);

  const adGroups = [
    { key: "Wealth Compliance", folder: "Compliance", reports: ["KYC Reports", "Dormant Reports", "AML Reports"] },
    { key: "Wealth User", folder: "Global User", reports: ["Active User", "Inactive User"] },
    { key: "Risk Team", folder: "Credit Risk", reports: ["Risk Summary", "Limit Breaches"] },
  ];

  function handleAdd() {
    if (!userSearch.trim() || !selectedADGroup) return;

    const groupMeta = adGroups.find((g) => g.key === selectedADGroup);
    if (!groupMeta) return;

    const newRow = {
      id: Date.now(),
      adGroup: groupMeta.key,
      folder: groupMeta.folder,
      reports: groupMeta.reports,
      assignedTo: userSearch.trim(),
    };

    setRows((r) => [newRow, ...r]);
    setUserSearch("");
  }

  function handleDelete(id) {
    setRows((r) => r.filter((row) => row.id !== id));
  }

  return (
    <section className="ac-wrapper">
      <div className="ac-card">
        <header className="ac-header">
          <div className="ac-title">Access Configuration</div>
          <div className="ac-user">
            <div className="ac-user-name">Admin</div>
            <div className="ac-avatar" aria-hidden="true">
              {/* simple circle avatar */}
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#1f2937" strokeWidth="1.2">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z" />
                <path d="M4 20a8 8 0 0116 0" />
              </svg>
            </div>
          </div>
        </header>

        <div className="ac-controls">
          <div className="ac-row">
            <label className="ac-label">User</label>
            <input
              className="ac-input"
              placeholder="Search or enter username (e.g. ayush.s)"
              value={userSearch}
              onChange={(e) => setUserSearch(e.target.value)}
            />

            <label className="ac-label ac-label-small">AD Group</label>
            <select
              className="ac-select"
              value={selectedADGroup}
              onChange={(e) => setSelectedADGroup(e.target.value)}
            >
              <option value="">Select AD Group</option>
              {adGroups.map((g) => (
                <option key={g.key} value={g.key}>
                  {g.key}
                </option>
              ))}
            </select>

            <div className="ac-add-col">
              <button onClick={handleAdd} className="ac-btn-primary">Add</button>
            </div>
          </div>
        </div>

        <div className="ac-table-wrap">
          <table className="ac-table" role="table">
            <thead>
              <tr>
                <th>AD Group Name</th>
                <th>Folder</th>
                <th>Report Name(s)</th>
                <th>Assigned To</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {rows.map((row) => (
                <tr key={row.id}>
                  <td className="ac-strong">{row.adGroup}</td>
                  <td>{row.folder}</td>
                  <td>
                    {row.reports.map((r, i) => (
                      <div key={i} className="ac-report-item">{r}</div>
                    ))}
                  </td>
                  <td>{row.assignedTo || "-"}</td>
                  <td>
                    <button
                      onClick={() => handleDelete(row.id)}
                      className="ac-delete"
                      aria-label={`Delete ${row.adGroup}`}
                      title="Delete"
                    >
                      ðŸ—‘
                    </button>
                  </td>
                </tr>
              ))}

              {rows.length === 0 && (
                <tr>
                  <td colSpan="5" className="ac-empty">No mappings yet â€” add a user and AD Group to start.</td>
                </tr>
              )}
            </tbody>
          </table>

          <div className="ac-help">Tip: AD Group configurations are synced from Active Directory. Assigning a user here grants access to the listed folders and reports.</div>
        </div>
      </div>
    </section>
  );
}

src/components/AccessConfiguration.css
/* Basic neutral page colors matching your bank theme (no :root, no flex) */
.ac-wrapper {
  box-sizing: border-box;
  padding: 24px;
  min-height: calc(100vh - 104px); /* allow space for fixed header (34+70) */
  background: transparent; /* page background is handled globally */
}

/* Card */
.ac-card {
  background: #ffffff;
  max-width: 1100px;
  margin: 0 auto;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  overflow: hidden;
}

/* Header: use grid to avoid flex */
.ac-header {
  display: grid;
  grid-template-columns: 1fr min-content;
  align-items: center;
  gap: 12px;
  padding: 18px 20px;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  background: #fff;
}

/* Title area */
.ac-title {
  font-size: 20px;
  font-weight: 600;
  color: #0f172a;
}

/* User area */
.ac-user {
  display: inline-block;
  white-space: nowrap;
  text-align: right;
}
.ac-user-name {
  color: #374151;
  font-size: 14px;
  display: inline-block;
  vertical-align: middle;
  margin-right: 8px;
}
.ac-avatar {
  display: inline-block;
  width: 36px;
  height: 36px;
  background: #f3f4f6;
  border-radius: 999px;
  vertical-align: middle;
  text-align: center;
  line-height: 36px;
}

/* Controls area */
.ac-controls {
  padding: 18px 20px;
  border-bottom: 1px solid rgba(0,0,0,0.04);
}

/* Grid row for inputs (no flex) */
.ac-row {
  display: grid;
  grid-template-columns: 140px 1fr 140px 220px 120px;
  gap: 12px;
  align-items: center;
}

/* Labels */
.ac-label {
  color: #374151;
  font-weight: 600;
}
.ac-label-small { font-size: 13px; }

/* Inputs */
.ac-input,
.ac-select {
  padding: 10px 12px;
  border: 1px solid rgba(15, 23, 42, 0.08);
  border-radius: 8px;
  background: #fff;
  color: #0f172a;
  box-sizing: border-box;
  font-size: 14px;
  width: 100%;
  outline: none;
}
.ac-input:focus,
.ac-select:focus {
  border-color: rgba(59,130,246,0.35);
  box-shadow: 0 0 0 4px rgba(59,130,246,0.08);
}

/* Add button column */
.ac-add-col {
  text-align: right;
}
.ac-btn-primary {
  display: inline-block;
  background: #0ea5e9; /* sky blue */
  color: #fff;
  padding: 10px 16px;
  border-radius: 8px;
  border: none;
  font-weight: 600;
  cursor: pointer;
}

/* Table area */
.ac-table-wrap {
  padding: 18px 20px 26px 20px;
}

/* Table */
.ac-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}
.ac-table thead th {
  text-align: left;
  padding: 10px 12px;
  background: #f8fafc;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  color: #111827;
  font-weight: 600;
}
.ac-table tbody td {
  padding: 12px;
  border-bottom: 1px solid rgba(0,0,0,0.04);
  color: #374151;
  vertical-align: top;
}
.ac-strong { font-weight: 600; color: #0f172a; }

/* report line items */
.ac-report-item { margin-bottom: 6px; }

/* delete button */
.ac-delete {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 16px;
}

/* empty state */
.ac-empty { text-align: center; padding: 30px 12px; color: #6b7280; }

/* help text */
.ac-help {
  margin-top: 12px;
  color: #6b7280;
  font-size: 13px;
}

/* Small screens (optional) */
@media (max-width: 980px) {
  .ac-row { grid-template-columns: 120px 1fr; grid-auto-rows: auto; }
  .ac-add-col { text-align: left; grid-column: 1 / -1; margin-top: 8px; }
  .ac-label { display: none; } /* hide labels to save space on small widths */
  .ac-card { margin: 0 12px; }
}

